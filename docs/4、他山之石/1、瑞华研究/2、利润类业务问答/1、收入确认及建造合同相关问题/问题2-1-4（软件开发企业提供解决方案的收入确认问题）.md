### 问题2-1-4（软件开发企业提供解决方案的收入确认问题）

**问题：**

软件开发企业向客户提供解决方案，根据“背景”部分所提供的信息，应采用何种收入确认原则？

**背景：**

A公司是专注于某特定行业，以围绕企业资产管理（EAM）、企业安全生产管理、企业经营管理为核心/主线的软件开发、设计与销售的高科技软件企业。A公司业务线主要为三大类：1、咨询服务业务，主要为业内集团性企业的信息化建设提供整体解决方案。2、智能企业管控一体化应用软件业务，主要为该特定行业的客户提供管控一体化、生产经营一体化、基建生产一体化、MIS、SIS一体化解决方案；目前该类业务占总体营业收入的份额85%左右；3、程控业务。A公司目前有九种软件产品符合《鼓励软件产业和集成电路产业发展的若干政策》和《软件产品管理办法》的有关规定，享受（软件/集成电路）产品增值税即征即退优惠政策。A公司主要专注于该特定行业内企业信息化解决方案业务，目前公司85%业务集中在其中某一软件产品。

业务特点：A公司的业务是以项目开展的，该类业务不同于流通企业或销售代理商的业务模式。首先，硬件系统方面，客户买的不是独立的交换机、服务器或系统软件，而是所有的硬件系统需要集成并调试成功，搭建一套能够符合后续使用要求的硬件系统平台。此模式下项目的实施周期较长，一般从供货开始到实质交付需要3～6个月周期。其次，管理软件系统方面，客户买的也不是孤立的软件模块和应用平台，客户会非常关注信息孤岛现象，A公司提供给客户的是解决方案，即在A公司相对成熟的软件产品基础上，通过现场的系统调试和配置等技术人员的实施工作，来实现满足客户管理需要的信息化工具。此过程中一般需要客户的需求调研、方案设计、调试配置及个性化开发、应用培训、评审验收等环节。此模式下软件实施的周期较长，一般从软件产品介质交付给客户至最终评审验收需要5～8个月周期。

**解答：**

**基于2006版收入准则（或建造合同准则）的处理意见：**

就本案例的特定情况看，该公司的业务都是基于其自己开发的软件提供的系统集成或者设备销售业务，代表了不同的业务模式。从会计角度，首先需要解决的是采用“销售商品模式”还是“建造合同模式”的问题。根据《企业会计准则第14号——收入（2006年）》、《企业会计准则第15号——建造合同》、《企业会计准则解释第3号》第六条等相关规定，采用哪一种收入确认模式，是一个专业判断问题，主要考虑的因素包括：

（1）合同中所约定的软件和硬件结合的紧密程度，例如软件是否为特定硬件和设备专门配套的嵌入式软件，还是可以在任何通用的硬件平台上运行；软硬件的集成和调试是否需要发生重大的工作量和成本；合同中对外购的通用设备和系统软件的报价是否与其单独采购时的市场价格基本一致。

（2）合同履行结果中软件、硬件两部分的互相影响程度。例如，如果硬件部分已经先行交货，并且硬件平台搭建完成，但后续软件实施过程中出现问题，则是否会影响到已确认的硬件收入，对方是否可能要求退货等。

（3）硬件是否主要为通用设备；软件是否需在公司现有软件产品的基础上作出大量的定制修改（二次开发）以符合客户的具体要求。

（4）合同总价中以下几部分的相对价值大小：①外购的硬件、通用设备和系统软件；②根据客户需求定制的专用设备和硬件；③公司自行研发的应用软件。另外，公司在整个项目中的主要利润来源（按照不同部分的合同定价与各该部分的成本测算确定）是否为公司自行研发的应用软件。

依据上述标准，根据不同的业务模式，参考相关行业惯例，较为适当的收入确认模式如下：

1、系统集成业务，包括基于公司自主开发的软件提供一体化解决方案（软件、硬件系统集成）的业务。如果公司自行开发的软件是此类业务的核心部分，并且需对自行开发的软件进行大量的定制修改（二次开发）以满足客户的特定需求，则该种业务模式在会计上采用建造合同模式的可能性相对较大。

在同时符合以下条件的前提下，结合合同中对于交货条件（所有权及相关风险转移时点）的约定，该类业务中的硬件和系统软件等外购的通用部分可以与企业自行研发的专用应用软件相分离，对外购的硬件和系统软件按照销售商品模式，在交付时确认收入；对提供自行开发的专用应用软件以及系统集成的相关服务按建造合同模式确认收入：

（1）合同中约定的硬件和软件结合不紧密，软件可以在任何符合条件的通用硬件平台上运行，无需依赖于某项特定的专用硬件或者设备。

（2）合同条款并未约定：如果所提供的软件及其实施服务存在瑕疵，则买方有权退回卖方已经交付的外购硬件和系统软件，或者有权要求对硬件和系统软件部分的价款作出调整或者退款。即合同的软件部分的履行结果不会影响到硬件和系统软件部分已确认的收入。

（3）合同的应用软件部分的履行结果能够可靠估计。根据公司的技术实力和以往类似项目的实施经验，判断其实施的成功具有合理的保证，不存在重大不确定性。

（4）合同中的应用软件部分，涉及对自行开发的软件进行大量的定制修改（二次开发）以满足客户的特定需求，同时在软硬件集成过程中也涉及大量的工作量，实施周期较长。

在上述前提下，对于提供自行开发的专用应用软件以及系统集成的相关服务，可按建造合同（或提供劳务）方式确认收入，即根据合同履行结果能否可靠估计来确定能否采用完工百分比法。

2、硬件和设备销售业务（含公司研发的嵌入式软件和专用设备）。如果所提供的软件和硬件结合紧密（例如该软件是嵌入于某一特定的专用设备中的，软硬件必须作为一个整体才能使用），并且软件在合同总价中所占的比重明显低于硬件和设备价格，则软件的销售事实上附属于硬件销售，整体上构成了一项需要安装和检验的商品销售。这类合同在法律上也通常表现为设备采购合同或买卖合同。这种合同的销售收入应采用“销售商品模式”，在货物已经交付、安装调试完成，获得买方验收确认时一次性全额确认收入。

需要注意的是，无论在上述哪一种模式下，按收款进度确认收入，或者将部分尾款递延到以后年度确认收入的做法，在现行会计准则下都是不恰当的。

**基于2017版收入准则的处理意见：**

就本案例的特定情况看，该公司的业务是基于其自己开发的软件提供的系统集成或者设备销售业务，代表了不同的业务模式。从会计角度，首先需要解决的是合同中包含几个单项履约义务，合同中提供外购硬件/软件、自制硬件/软件、系统集成服务的承诺是否能够单独区分；其次再考虑每个单项履约义务应该在某一时段还是在某一时点确认收入。

1、合同中包含几个单项履约义务？

（1）商品本身是否能够明确区分

一般来说，客户能够从外购硬件/软件、自制硬件/软件本身或与其他易于获得的资源一起使用中受益，因此，各项相关商品（主要是通用硬件和软件）本身通常能够明确区分。但对于定制的软件或硬件，以及系统集成服务能否明确区分，则需结合具体情况分析确定（详见下表）。

（2）合同中的承诺与其他承诺是否能够单独区分

在合同层面评估合同中的一项承诺与其他承诺是否能够单独区分需要专业判断，不同的业务模式可能得出不同的结论，在评估时应主要考虑：

①外购硬件/软件、自制硬件/软件和系统集成服务之间的结合程度，是否需要提供重大的服务将其整合在一起形成组合产出方能按照合同的约定转让给客户（如整合工作量较大，实施时间较长）；②在安装、整合或调试过程中，是否需要对自制软件或外购软件进行大量的定制修改和二次开发；软件是否为特定硬件和设备专门配套的嵌入式软件，还是可以在任何通用的硬件平台上运行；③外购硬件或自制硬件是否为通用型，在安装、整合或调试过程中是否需要对其进行修改和定制；④各项承诺是否能够单独履行或不履行而不影响合同中其他承诺的履行（如：不考虑合同限制的情况下，客户可以自行或委托其他方购买相关硬件或软件，不影响企业对自制硬件/软件和系统集成承诺的履行）；等。

依据上述标准（本表格的分析并非包括全部情形）：

| 情 形                                                                                                                                                                                      | 外购硬件/软件 | 自制硬件/软件 | 系统集成服务 |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------|---------------|--------------|
| 需提供重大整合服务形成组合产出。                                                                                                                                                           | 单项履约义务  |               |              |
| 系统集成服务需要对各类硬件、软件进行重大修改或定制。                                                                                                                                       | 单项履约义务  |               |              |
| 无需重大整合服务；对硬件、软件无重大修改或定制；硬件和软件均为通用件；软件并非特定硬件的专门嵌入式配套软件；系统集成服务实质为简单安装服务；单独履行或不履行每个承诺不影响其他承诺的履行。 | 单项履约义务  | 单项履约义务  | 单项履约义务 |
| 系统集成服务仅对自制硬件/软件存在重大修改或定制；外购硬件/软件为通用件，该承诺是否履行不影响其他承诺。                                                                                     | 单项履约义务  | 单项履约义务  |              |

此外，由于特定合同是否需要提供重大整合服务、是否需要对硬件、软件进行重大修改和定制等的评估，往往已经超出注册会计师胜任能力，在实务中，应征求被审计单位专业技术人员的意见（必要时还应征求行业内专家的咨询意见），并获取充分、适当的审计证据。

2、每个单项履约义务的收入确认方式

①整个合同只有一个单项履约义务，或者自制硬件/软件和系统集成服务构成单项履约义务的情况

如果该履约义务的履行，特别是系统集成过程，主要在客户的场地进行，在客户终止合同的情况下，已经完成的部分归客户所有，则表明客户能够控制履约过程中的在建商品，在企业履约的同时客户即取得并消耗企业履约所带来的经济利益，该履约义务属于在一段时间内履行，应按照履约进度在一段时间内确认收入。

如果不满足上述条件，考虑到该履约义务产出的产品——系统平台是专门为客户所定制的，具有不可替代用途，如果同时满足“企业在整个合同期内有权就累计至今已完成的履约部分收取款项”的条件（本案例未提供相关背景信息），也可以作为在一段时间内履行，进而在一段时间内确认收入。

如果该系统平台是完成后一次性交付给客户的，如果客户终止合同，已经完成的部分不会移交给客户，表明客户不能在企业履约时取得并消耗企业履约所带来的经济利益，也不能控制履约过程中的在建商品，假设也不满足“企业在整个合同期内有权就累计至今已完成的履约部分收取款项”的条件，则应在一个时点（系统平台控制权转移给客户的时点）确认收入。

②外购硬件/软件、自制硬件/软件、系统集成服务分别构成单项履约义务

外购硬件/软件、自制硬件/软件应在控制权转让给客户的时点确认收入（其中自制硬件/软件有可能满足在一段时间内履行的履约义务的条件，需根据具体情况分析确定）；作为单项履约义务的系统集成服务实质为简单安装服务，可参照上述（2）①的原则进行判断。